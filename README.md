# QuellGTA_WFP
WFP配置插件

## 干嘛用的

给QuellGTA工具加上WFP支持

## 为什么WFP

- 不是人人都开着WDF防火墙
- 比开关网卡快
- 不用全局断网

## 为什么独立程序

- 易语言编写太麻烦了，还不如写个独立程序调用容易
- dll太麻烦，如果不想软件到处拉屎就得延迟加载dll，而且我觉得还要写个def导出是很恶心的事情
- QuellGTA本来就在配置目录下丢了个devcon，多丢一个几十kb的东西没区别

## 基于端口和ip的规则呢

可以做到，DeepSeek帮我搞定了

## 为什么我要创建一个分支

- 因为最初版本无法正常恢复网络
- 我还是需要端口和IP控制的，加上更好

## 我能用吗

The Unlicence, 随便用不用问我。

## 怎么用

PS .\QuellGTA_WFP.exe

QuellGTA WFP 控制工具

基本模式:
  -c, --create 创建条件阻断规则
  -d, --delete 清理所有本工具创建的规则并恢复网络

条件参数 (与 `-c` 模式配合使用，可任意组合):
  按进程路径阻断 (必需完整路径，用双引号包裹)
  按远程IPv4地址阻断 (如: 192.168.1.100)
  按远程端口阻断
  按本地端口阻断
  按协议阻断 (tcp/udp 或 协议号)

使用示例:
    -c 创建全局规则
    -d 清理所有本工具创建的规则并恢复网络
  控制协议:
    -c -p "C:\\game.exe" -proto tcp    # 仅阻断该进程的TCP连接
    -c -p "C:\\game.exe" -proto udp    # 仅阻断该进程的UDP连接

  控制本地端口:
    -c -lp 27015                      # 阻断所有使用本地27015端口的连接
    -c -p "C:\\game.exe" -lp 27015    # 阻断该进程使用本地27015端口的连接

  控制远程端口:
    -c -rp 443                        # 阻断所有到远程443端口(HTTPS)的连接
    -c -p "browser.exe" -rp 443       # 阻断浏览器到HTTPS的连接

  组合控制:
    -c -rp 80 -lp 5000                # 阻断所有从本地5000到远程80端口的连接
    -c -ip 192.168.1.1 -rp 53 -proto udp # 阻断所有到该IP UDP 53端口(DNS)的连接

  精细控制 (完整示例):
    -c -p "C:\\game.exe" -ip 1.2.3.4 -rp 27015 -lp 5000 -proto udp
        # 效果: 仅阻断 game.exe 从本地5000端口(UDP)连接到 1.2.3.4:27015

注意事项:
  1. 所有条件为"逻辑与"关系，必须同时满足才会被阻断。
  2. 清理规则(-d)后，已建立的TCP连接可能不会立即恢复，建议重启相关程序。
  3. 使用`-p`参数时，请务必提供进程的完整绝对路径。
  4. 本工具需要以管理员权限运行。
